<%- model_class = Restaurant -%>
<div class="page-header">
  <h1><%= @restaurant.name %></h1>
</div>

<div class="descriptions-and-images">
  <div class="descriptions half-width">
    <dl class="dl-horizontal">
      <dt><strong><%= model_class.human_attribute_name(:status) %>:</strong></dt>
      <dd><%= @restaurant.status %></dd> <br>
      <% if (!@restaurant.address.nil? && !@restaurant.address.length == 0 &&
             !@restaurant.zip.nil? && !@restaurant.zip.length == 0 &&
             !@restaurant.city.nil? && !@restaurant.city.length == 0) %>
        <dt><strong>Address: </strong></dt>
        <dd><%= @restaurant.address.to_s %><br><%= @restaurant.city.to_s + ", " + @restaurant.zip.to_s %> </dd><br>
      <% end %>
      <dt><strong>Open Hours:</strong></dt>
      <dd><%= (@restaurant.open_time).to_s + ":00 hrs - " + @restaurant.close_time.to_s + ":00 hrs"%></dd> <br>
      <div class="line-bottom">
        <dt><strong><%= model_class.human_attribute_name(:description) %>:</strong></dt>
        <dd><%= @restaurant.description %></dd> <br>
      </div><br>
      <dt><strong><%= model_class.human_attribute_name(:menu) %>:</strong></dt>
      <% if !(@menu.nil?) && !(@menu.length == 0) %>
        <% @menu.each do |item| %>
          <dd><%= "- " + item %></dd>
        <% end %>
        <br>
      <% else %>
        <dd>(No menu available currently)</dd> <br>
      <% end %>
    </dl>
  </div>
  <div class="image-list half-width">
    <strong style="padding-left: 8px;">Images</strong><br>
    <% @images.each do |image| %>
      <%= image_tag image.file.url(:medium), :style => "display: inline-block; padding: 8px; white-space: nowrap; float: left;" %>
    <% end %>
  </div>
  <div class="clear"></div>
</div>

<div class="form-actions">
  <%= link_to t('.back', :default => t("helpers.links.back")),
                restaurants_path, :class => 'btn' %>
  <% if !(current_user.nil?) %>
    <% if can? :edit, @restaurant %>
      <%= link_to t('.edit', :default => t("helpers.links.edit")),
                  edit_restaurant_path(@restaurant), :class => 'btn' %>
    <% end %>
    <% if can? :destroy, @restaurant %>
      <%= link_to t('.destroy', :default => t("helpers.links.destroy")),
                  restaurant_path(@restaurant),
                  :method => 'delete',
                  :data => { :confirm => t('.confirm', :default => t("helpers.links.confirm", :default => 'Are you sure?')) },
                  :class => 'btn btn-danger' %>
    <% end %>
  <% end %>
</div>
